{"version":3,"file":"index.js","sources":["../src/index.ts"],"sourcesContent":null,"names":["CWD","process","env","GITHUB_WORKSPACE","getPath","part","path","join","requireModule","name","require","resolve","paths","pm","detectPackageManager","fs","existsSync","isYarn2AndAbove","getPackageJson","JSON","parse","readFileSync","createPackageJson","pkgPath","writeFileSync","stringify","description","version","installPackages","bin","startGroup","exec","cwd","endGroup","installPresetPackage","pkg","args","info","push","isInputEnabled","value","getInput","getBooleanInput","run","GITHUB_TOKEN","issue","context","Error","number","octokit","getOctokit","data","pr","rest","pulls","get","repo","pull_number","autoInstall","preset","presetModule","startsWith","loadPreset","loader","presetLoader","config","result","checkCommitFormat","title","parseCommit","sync","parserOpts","type","commits","listCommits","commit","message","error","setFailed"],"mappings":"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"}