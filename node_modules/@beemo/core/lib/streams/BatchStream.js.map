{"version":3,"file":"BatchStream.js","sources":["../../src/streams/BatchStream.ts"],"sourcesContent":null,"names":["WAIT_THRESHOLD","BatchStream","Transform","constructor","options","bufferedBatch","timeout","waitThreshold","wait","flush","push","clearTimeout","_transform","chunk","encoding","callback","Buffer","concat","setTimeout","_flush"],"mappings":";;;;;;AAAA;AAKA,MAAMA,cAAc,GAAG,GAAvB;AAMO,MAAMC,WAAN,SAA0BC,gBAA1B,CAAoC;AAO1CC,EAAAA,WAAW,CAACC,OAA2B,GAAG,EAA/B,EAAmC;AAC7C;AAD6C,SAN9CC,aAM8C,GANf,IAMe;AAAA,SAJ9CC,OAI8C,GAJb,IAIa;AAAA,SAF9CC,aAE8C,GAFtB,CAEsB;AAG7C,SAAKA,aAAL,GAAqBH,OAAO,CAACI,IAAR,IAAgBR,cAArC;AACA;;AAEDS,EAAAA,KAAK,GAAG;AACP,QAAI,KAAKJ,aAAT,EAAwB;AACvB,WAAKK,IAAL,CAAU,KAAKL,aAAf;AACA,WAAKA,aAAL,GAAqB,IAArB;AACA;;AAED,QAAI,KAAKC,OAAT,EAAkB;AACjBK,MAAAA,YAAY,CAAC,KAAKL,OAAN,CAAZ;AACA,WAAKA,OAAL,GAAe,IAAf;AACA;AACD;;AAEQM,EAAAA,UAAU,CAACC,KAAD,EAAgBC,QAAhB,EAAkCC,QAAlC,EAA+D;AACjF,SAAKV,aAAL,GAAqB,KAAKA,aAAL,GAAqBW,MAAM,CAACC,MAAP,CAAc,CAAC,KAAKZ,aAAN,EAAqBQ,KAArB,CAAd,CAArB,GAAkEA,KAAvF;;AAEA,QAAI,KAAKP,OAAT,EAAkB;AACjBK,MAAAA,YAAY,CAAC,KAAKL,OAAN,CAAZ;AACA;;AAED,SAAKA,OAAL,GAAeY,UAAU,CAAC,MAAM;AAC/B,WAAKT,KAAL;AACA,KAFwB,EAEtB,KAAKF,aAFiB,CAAzB;AAIAQ,IAAAA,QAAQ;AACR;;AAEQI,EAAAA,MAAM,CAACJ,QAAD,EAA8B;AAC5C,SAAKN,KAAL;AACAM,IAAAA,QAAQ;AACR;;AA1CyC;;;;"}