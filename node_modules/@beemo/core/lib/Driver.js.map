{"version":3,"file":"Driver.js","sources":["../src/Driver.ts"],"sourcesContent":null,"names":["Driver","Plugin","commands","config","metadata","tool","output","stderr","stdout","onLoadProviderConfig","Event","onLoadConsumerConfig","onMergeConfig","onCreateConfigFile","onCopyConfigFile","onReferenceConfigFile","onTemplateConfigFile","onDeleteConfigFile","onBeforeExecute","ConcurrentEvent","onAfterExecute","onFailedExecute","validate","driver","name","isClassInstance","constructor","isObject","options","Error","blueprint","array","object","string","bool","args","configStrategy","STRATEGY_NATIVE","oneOf","STRATEGY_CREATE","STRATEGY_REFERENCE","STRATEGY_TEMPLATE","STRATEGY_COPY","STRATEGY_NONE","dependencies","env","expandGlobs","outputStrategy","STRATEGY_BUFFER","STRATEGY_PIPE","STRATEGY_STREAM","template","bootstrap","startup","doMerge","prevValue","nextValue","Array","isArray","Set","undefined","extractErrorMessage","error","message","split","formatConfig","data","content","JSON","stringify","configName","endsWith","getName","pop","getArgs","toArray","getDependencies","getOutputStrategy","execute","getSupportedOptions","getVersion","bin","versionOption","version","execa","sync","preferLocal","trim","match","mergeConfig","prev","next","mergeWith","processFailure","out","setOutput","processSuccess","response","registerCommand","path","runner","push","setMetadata","shape","predicates","optimal","required","commandOptions","description","type","configOption","filterOptions","helpOption","title","useConfigOption","watchOptions","workspaceStrategy","value"],"mappings":";;;;;;;;;;;;;;;;;AAoCO,MAAeA,MAAf,SAIEC,aAJF,CAMP;AAAA;AAAA;AAAA,SAECC,QAFD,GAEmD,EAFnD;AAAA,SAKCC,MALD;AAAA,SAQCC,QARD;AAAA,SAWCC,IAXD;AAAA,SAaCC,MAbD,GAawB;AACtBC,MAAAA,MAAM,EAAE,EADc;AAEtBC,MAAAA,MAAM,EAAE;AAFc,KAbxB;AAAA,SAkBUC,oBAlBV,GAkBiC,IAAIC,WAAJ,CAAyC,sBAAzC,CAlBjC;AAAA,SAoBUC,oBApBV,GAoBiC,IAAID,WAAJ,CAAmC,sBAAnC,CApBjC;AAAA,SAsBUE,aAtBV,GAsB0B,IAAIF,WAAJ,CAAmC,cAAnC,CAtB1B;AAAA,SAwBUG,kBAxBV,GAwB+B,IAAIH,WAAJ,CAAyC,oBAAzC,CAxB/B;AAAA,SA0BUI,gBA1BV,GA0B6B,IAAIJ,WAAJ,CAAyC,kBAAzC,CA1B7B;AAAA,SA4BUK,qBA5BV,GA4BkC,IAAIL,WAAJ,CAChC,uBADgC,CA5BlC;AAAA,SAgCUM,oBAhCV,GAgCiC,IAAIN,WAAJ,CAC/B,sBAD+B,CAhCjC;AAAA,SAoCUO,kBApCV,GAoC+B,IAAIP,WAAJ,CAAiC,oBAAjC,CApC/B;AAAA,SAsCUQ,eAtCV,GAsC4B,IAAIC,qBAAJ,CAA2C,gBAA3C,CAtC5B;AAAA,SAwCUC,cAxCV,GAwC2B,IAAID,qBAAJ,CAA8C,eAA9C,CAxC3B;AAAA,SA0CUE,eA1CV,GA0C4B,IAAIF,qBAAJ,CAA4C,gBAA5C,CA1C5B;AAAA;;AA4CgB,SAARG,QAAQ,CAACC,MAAD,EAAiB;AAC/B,UAAMC,IAAI,GAAIC,+BAAe,CAACF,MAAD,CAAf,IAA2BA,MAAM,CAACG,WAAP,CAAmBF,IAA/C,IAAwD,QAArE;;AAEA,QAAI,CAACG,eAAQ,CAACJ,MAAM,CAACK,OAAR,CAAb,EAA+B;AAC9B,YAAM,IAAIC,KAAJ,CAAW,KAAIL,IAAK,gCAApB,CAAN;AACA;AACD;;AAEDM,EAAAA,SAAS,CAAC;AAAEC,IAAAA,KAAF;AAASC,IAAAA,MAAT;AAAiBC,IAAAA,MAAjB;AAAyBC,IAAAA;AAAzB,GAAD,EAAwE;AAChF,WAAO;AACNC,MAAAA,IAAI,EAAEJ,KAAK,CAACE,MAAM,EAAP,CADL;AAENG,MAAAA,cAAc,EAAEH,MAAM,CAACI,yBAAD,CAAN,CAAwBC,KAAxB,CAAoD,CACnED,yBADmE,EAEnEE,yBAFmE,EAGnEC,4BAHmE,EAInEC,2BAJmE,EAKnEC,uBALmE,EAMnEC,uBANmE,CAApD,CAFV;AAUNC,MAAAA,YAAY,EAAEb,KAAK,CAACE,MAAM,EAAP,CAVb;AAWNY,MAAAA,GAAG,EAAEb,MAAM,CAACC,MAAM,EAAP,CAXL;AAYNa,MAAAA,WAAW,EAAEZ,IAAI,CAAC,IAAD,CAZX;AAaNa,MAAAA,cAAc,EAAEd,MAAM,CAACe,yBAAD,CAAN,CAAwBV,KAAxB,CAAoD,CACnEU,yBADmE,EAEnEC,uBAFmE,EAGnEC,yBAHmE,EAInEP,uBAJmE,CAApD,CAbV;AAmBNQ,MAAAA,QAAQ,EAAElB,MAAM;AAnBV,KAAP;AAqBA;;AAEDmB,EAAAA,SAAS,GAAG;;AAEHC,EAAAA,OAAO,CAAChD,IAAD,EAAkB;AACjC,SAAKA,IAAL,GAAYA,IAAZ;AACA,SAAK+C,SAAL;AACA;AAED;AACD;AACA;;;AACCE,EAAAA,OAAO,CAACC,SAAD,EAAqBC,SAArB,EAAkD;AACxD,QAAIC,KAAK,CAACC,OAAN,CAAcH,SAAd,KAA4BE,KAAK,CAACC,OAAN,CAAcF,SAAd,CAAhC,EAA0D;AACzD;AACA,aAAO,CAAC,GAAG,IAAIG,GAAJ,CAAQ,CAAC,GAAGJ,SAAJ,EAAe,GAAGC,SAAlB,CAAR,CAAJ,CAAP;AACA;;AAED,WAAOI,SAAP;AACA;AAED;AACD;AACA;;;AACCC,EAAAA,mBAAmB,CAACC,KAAD,EAAqC;AACvD,WAAOA,KAAK,CAACC,OAAN,CAAcC,KAAd,CAAoB,IAApB,EAA0B,CAA1B,EAA6B,CAA7B,KAAmC,EAA1C;AACA;AAED;AACD;AACA;;;AACCC,EAAAA,YAAY,CAACC,IAAD,EAAuB;AAClC,UAAMC,OAAO,GAAGC,IAAI,CAACC,SAAL,CAAeH,IAAf,EAAqB,IAArB,EAA2B,CAA3B,CAAhB;;AAEA,QAAI,KAAK9D,QAAL,CAAckE,UAAd,CAAyBC,QAAzB,CAAkC,KAAlC,CAAJ,EAA8C;AAC7C,aAAQ,oBAAmBJ,OAAQ,GAAnC;AACA;;AAED,WAAOA,OAAP;AACA;AAED;AACD;AACA;;;AACCK,EAAAA,OAAO,GAAW;AACjB,WAAO,KAAKhD,IAAL,CAAUwC,KAAV,CAAgB,GAAhB,EAAqBS,GAArB,EAAP;AACA;AAED;AACD;AACA;;;AACCC,EAAAA,OAAO,GAAS;AACf,WAAOC,cAAO,CAAC,KAAK/C,OAAL,CAAaO,IAAd,CAAd;AACA;AAED;AACD;AACA;;;AACCyC,EAAAA,eAAe,GAAa;AAC3B,WAAO;AAEN,OAAG,KAAKxE,QAAL,CAAcwC,YAFX;AAIN,OAAG+B,cAAO,CAAC,KAAK/C,OAAL,CAAagB,YAAd,CAJJ,CAAP;AAMA;AAED;AACD;AACA;;;AACCiC,EAAAA,iBAAiB,GAAyB;AACzC,WAAO,CAAC,KAAKxE,IAAL,CAAUF,MAAV,CAAiB2E,OAAjB,CAAyBxE,MAAzB,IAAmC,KAAKsB,OAAL,CAAamB,cAAjD,KAAoEC,yBAA3E;AACA;AAED;AACD;AACA;;;AACC+B,EAAAA,mBAAmB,GAAa;AAC/B,WAAO,EAAP;AACA;AAED;AACD;AACA;;;AACCC,EAAAA,UAAU,GAAW;AACpB,UAAM;AAAEC,MAAAA,GAAF;AAAOC,MAAAA;AAAP,QAAyB,KAAK9E,QAApC;AACA,UAAM+E,OAAO,GAAG,CAACC,yBAAK,CAACC,IAAN,CAAWJ,GAAX,EAAgB,CAACC,aAAD,CAAhB,EAAiC;AAAEI,MAAAA,WAAW,EAAE;AAAf,KAAjC,GAAyD9E,MAAzD,IAAmE,EAApE,EAAwE+E,IAAxE,EAAhB;AACA,UAAMC,KAAK,GAAGL,OAAO,CAACK,KAAR,CAAc,sBAAd,CAAd;AAEA,WAAOA,KAAK,GAAGA,KAAK,CAAC,CAAD,CAAR,GAAc,OAA1B;AACA;AAED;AACD;AACA;;;AACCC,EAAAA,WAAW,CAACC,IAAD,EAAeC,IAAf,EAAqC;AAC/C,WAAOC,6BAAS,CAACF,IAAD,EAAOC,IAAP,EAAa,KAAKrC,OAAlB,CAAhB;AACA;AAED;AACD;AACA;;;AACCuC,EAAAA,cAAc,CAAC/B,KAAD,EAAmB;AAChC,UAAM;AAAEvD,MAAAA,MAAM,GAAG,EAAX;AAAeC,MAAAA,MAAM,GAAG;AAAxB,QAA+BsD,KAArC;AACA,UAAMgC,GAAG,GAAG,CAACvF,MAAM,IAAIC,MAAX,EAAmB+E,IAAnB,EAAZ;;AAEA,QAAIO,GAAJ,EAAS;AACR,WAAKC,SAAL,CAAe,QAAf,EAAyBD,GAAzB;AACA;AACD;AAED;AACD;AACA;;;AACCE,EAAAA,cAAc,CAACC,QAAD,EAAsB;AACnC,UAAM;AAAE1F,MAAAA,MAAM,GAAG,EAAX;AAAeC,MAAAA,MAAM,GAAG;AAAxB,QAA+ByF,QAArC;AAEA,SAAKF,SAAL,CAAe,QAAf,EAAyBxF,MAAM,CAACgF,IAAP,EAAzB;AACA,SAAKQ,SAAL,CAAe,QAAf,EAAyBvF,MAAM,CAAC+E,IAAP,EAAzB;AACA;AAED;AACD;AACA;;;AACCW,EAAAA,eAAe,CACdC,IADc,EAEdhG,MAFc,EAGdiG,MAHc,EAIb;AACD,SAAKlG,QAAL,CAAcmG,IAAd,CAAmB;AAAElG,MAAAA,MAAF;AAAUgG,MAAAA,IAAV;AAAgBC,MAAAA;AAAhB,KAAnB;AAEA,WAAO,IAAP;AACA;AAED;AACD;AACA;;;AACCE,EAAAA,WAAW,CAAClG,QAAD,EAA0C;AACpD,UAAM;AAAE2B,MAAAA,KAAF;AAASG,MAAAA,IAAT;AAAeD,MAAAA,MAAf;AAAuBD,MAAAA,MAAvB;AAA+BuE,MAAAA;AAA/B,QAAyCC,iBAA/C;AAEA,SAAKpG,QAAL,GAAgBqG,cAAO,CACtBrG,QADsB,EAEtB;AACC6E,MAAAA,GAAG,EAAEhD,MAAM,GACTuD,KADG,CACG,0BADH,EAEHkB,QAFG,EADN;AAICC,MAAAA,cAAc,EAAE3E,MAAM,CACrBuE,KAAK,CAAC;AACLK,QAAAA,WAAW,EAAE3E,MAAM,GAAGyE,QAAT,EADR;AAELG,QAAAA,IAAI,EAAE5E,MAAM,GAAGK,KAAT,CAAgD,CAAC,QAAD,EAAW,QAAX,EAAqB,SAArB,CAAhD;AAFD,OAAD,CADgB,CAJvB;AAUCgC,MAAAA,UAAU,EAAErC,MAAM,GAAGyE,QAAT,EAVb;AAWCI,MAAAA,YAAY,EAAE7E,MAAM,CAAC,UAAD,CAXrB;AAYCG,MAAAA,cAAc,EAAEH,MAAM,CAACM,yBAAD,CAAN,CAAwBD,KAAxB,CAA8B,CAC7CC,yBAD6C,EAE7CC,4BAF6C,EAG7CE,uBAH6C,CAA9B,CAZjB;AAiBCE,MAAAA,YAAY,EAAEb,KAAK,CAACE,MAAM,EAAP,CAjBpB;AAkBC2E,MAAAA,WAAW,EAAE3E,MAAM,EAlBpB;AAmBC8E,MAAAA,aAAa,EAAE7E,IAAI,CAAC,IAAD,CAnBpB;AAoBC8E,MAAAA,UAAU,EAAE/E,MAAM,CAAC,QAAD,CApBnB;AAqBCgF,MAAAA,KAAK,EAAEhF,MAAM,GAAGyE,QAAT,EArBR;AAsBCQ,MAAAA,eAAe,EAAEhF,IAAI,EAtBtB;AAuBCgD,MAAAA,aAAa,EAAEjD,MAAM,CAAC,WAAD,CAvBtB;AAwBCkF,MAAAA,YAAY,EAAEpF,KAAK,CAACE,MAAM,EAAP,CAxBpB;AAyBCmF,MAAAA,iBAAiB,EAAEnF,MAAM,CAACO,4BAAD,CAAN,CAA2BF,KAA3B,CAAiC,CAACE,4BAAD,EAAqBE,uBAArB,CAAjC;AAzBpB,KAFsB,EA6BtB;AACClB,MAAAA,IAAI,EAAE,KAAKE,WAAL,CAAiBF;AADxB,KA7BsB,CAAvB;AAkCA,WAAO,IAAP;AACA;AAED;AACD;AACA;;;AACCuE,EAAAA,SAAS,CAACc,IAAD,EAA2BQ,KAA3B,EAAgD;AACxD,SAAK/G,MAAL,CAAYuG,IAAZ,IAAoBQ,KAAK,CAAC9B,IAAN,EAApB;AAEA,WAAO,IAAP;AACA;;AAlQF;;;;"}