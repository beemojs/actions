{"version":3,"file":"PooledPipeline.js","sources":["../src/PooledPipeline.ts"],"sourcesContent":null,"names":["PooledPipeline","ParallelPipeline","resolver","results","running","blueprint","predicates","bool","number","concurrency","os","cpus","length","gte","filo","timeout","run","debug","work","onBeforeRun","emit","value","result","Promise","resolve","aggregateResult","all","slice","options","map","runWorkUnit","context","onAfterRun","unit","pop","shift","push","handleResult","filter","timer","setTimeout","PipelineError","onRunWorkUnit","then","clearTimeout","catch","error"],"mappings":";;;;;;;;;;;;;AAAA;AAsBO,MAAMA,cAAN,SAIGC,iCAJH,CAIuD;AAAA;AAAA;AAAA,SACnDC,QADmD;AAAA,SAGnDC,OAHmD,GAGrB,EAHqB;AAAA,SAKnDC,OALmD,GAKV,EALU;AAAA;;AAOpDC,EAAAA,SAAS,CAACC,UAAD,EAAmD;AACpE,UAAM;AAAEC,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAmBF,UAAzB;AAEA,WAAO;AACNG,MAAAA,WAAW,EAAED,MAAM,CAACE,sBAAE,CAACC,IAAH,GAAUC,MAAX,CAAN,CAAyBC,GAAzB,CAA6B,CAA7B,CADP;AAENC,MAAAA,IAAI,EAAEP,IAAI,EAFJ;AAGNQ,MAAAA,OAAO,EAAEP,MAAM,CAAC,CAAD,CAAN,CAAUK,GAAV,CAAc,CAAd;AAHH,KAAP;AAKA;AAED;AACD;AACA;AACA;AACA;;;AACU,QAAHG,GAAG,GAAsC;AAC9CC,IAAAA,WAAK,CAAC,sBAAD,EAAyB,KAAKC,IAAL,CAAUN,MAAnC,CAAL;AAEA,SAAKO,WAAL,CAAiBC,IAAjB,CAAsB,CAAC,KAAKC,KAAN,CAAtB;AAEA,UAAMC,MAAM,GAAG,MAAM,IAAIC,OAAJ,CAAuCC,OAAD,IAAa;AACvE,UAAI,KAAKN,IAAL,CAAUN,MAAV,KAAqB,CAAzB,EAA4B;AAC3BY,QAAAA,OAAO,CAAC,KAAKC,eAAL,CAAqB,EAArB,CAAD,CAAP;AAEA;AACA;;AAED,WAAKvB,QAAL,GAAgBsB,OAAhB;AAEA,WAAKD,OAAO,CAACG,GAAR,CACJ,KAAKR,IAAL,CACES,KADF,CACQ,CADR,EACW,KAAKC,OAAL,CAAanB,WADxB,EAEEoB,GAFF,CAEM,MAAM,KAAKC,WAAL,CAAiB,KAAKC,OAAtB,EAA+B,KAAKV,KAApC,CAFZ,CADI,CAAL;AAKA,KAdoB,CAArB;AAgBA,SAAKW,UAAL,CAAgBZ,IAAhB,CAAqB,EAArB;AAEA,WAAOE,MAAP;AACA;AAED;AACD;AACA;;;AAC4B,QAAXQ,WAAW,CAACC,OAAD,EAAeV,KAAf,EAA4C;AACtE,UAAM;AAAEZ,MAAAA,WAAF;AAAeK,MAAAA,IAAf;AAAqBC,MAAAA;AAArB,QAAiC,KAAKa,OAA5C;AACA,UAAMK,IAAI,GAAGnB,IAAI,GAAG,KAAKI,IAAL,CAAUgB,GAAV,EAAH,GAAsB,KAAKhB,IAAL,CAAUiB,KAAV,EAAvC;AAEA,SAAK/B,OAAL,CAAagC,IAAb,CAAkBH,IAAlB;;AAEA,UAAMI,YAAY,GAAIf,MAAD,IAA4B;AAChD,WAAKlB,OAAL,GAAe,KAAKA,OAAL,CAAakC,MAAb,CAAqBlC,OAAD,IAAaA,OAAO,KAAK6B,IAA7C,CAAf;AACA,WAAK9B,OAAL,CAAaiC,IAAb,CAAkBd,MAAlB;;AAEA,UAAI,KAAKJ,IAAL,CAAUN,MAAV,GAAmB,CAAnB,IAAwB,KAAKR,OAAL,CAAaQ,MAAb,GAAsBH,WAAlD,EAA+D;AAC9D,eAAO,KAAKqB,WAAL,CAAiBC,OAAjB,EAA0BV,KAA1B,CAAP;AACA;;AACD,UAAI,KAAKH,IAAL,CAAUN,MAAV,KAAqB,CAArB,IAA0B,KAAKR,OAAL,CAAaQ,MAAb,KAAwB,CAAlD,IAAuD,KAAKV,QAAhE,EAA0E;AACzE,aAAKA,QAAL,CAAc,KAAKuB,eAAL,CAAqB,KAAKtB,OAA1B,CAAd;AACA;;AAED,aAAOoB,OAAO,CAACC,OAAR,EAAP;AACA,KAZD;;AAcA,WAAO,IAAID,OAAJ,CAAaC,OAAD,IAAa;AAC/B,UAAIe,KAAJ;;AAEA,UAAIxB,OAAO,GAAG,CAAd,EAAiB;AAChBwB,QAAAA,KAAK,GAAGC,UAAU,CAAC,MAAM;AACxBhB,UAAAA,OAAO,CAACa,YAAY,CAAC,IAAII,2BAAJ,CAAkB,eAAlB,CAAD,CAAb,CAAP;AACA,SAFiB,EAEf1B,OAFe,CAAlB;AAGA;;AAED,WAAK2B,aAAL,CAAmBtB,IAAnB,CAAwB,CAACa,IAAD,EAAOZ,KAAP,CAAxB;AAEAY,MAAAA,IAAI,CACFjB,GADF,CACMe,OADN,EACeV,KADf,EAEEsB,IAFF,CAEQrB,MAAD,IAAY;AACjB,YAAIiB,KAAJ,EAAW;AACVK,UAAAA,YAAY,CAACL,KAAD,CAAZ;AACA;;AAEDf,QAAAA,OAAO,CAACa,YAAY,CAACf,MAAD,CAAb,CAAP;AAEA,eAAOA,MAAP;AACA,OAVF,EAWEuB,KAXF,CAWSC,KAAD,IAAW;AACjBtB,QAAAA,OAAO,CAACa,YAAY,CAACS,KAAD,CAAb,CAAP;AACA,OAbF;AAcA,KAzBM,CAAP;AA0BA;;AAjG4D;;;;"}