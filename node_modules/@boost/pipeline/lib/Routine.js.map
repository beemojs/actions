{"version":3,"file":"Routine.js","sources":["../src/Routine.ts"],"sourcesContent":null,"names":["Routine","WorkUnit","constructor","key","title","options","context","value","execute","debug","onCommand","Event","onCommandData","monitorInstance","length","Array","isArray","PipelineError","toArray","map","kebabCase","join","createDebugger","executeCommand","command","args","wrap","workUnit","opts","stream","execa","emit","unit","handler","line","isRunning","statusText","stderr","pipe","split","on","stdout","createAggregatedPipeline","updateHierarchy","AggregatedPipeline","createConcurrentPipeline","ConcurrentPipeline","createPooledPipeline","PooledPipeline","createWaterfallPipeline","WaterfallPipeline","setMonitor","monitor","pipeline","depth","Pipeline"],"mappings":"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"}