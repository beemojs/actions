{"version":3,"file":"Registry.js","sources":["../src/Registry.ts"],"sourcesContent":null,"names":["Registry","Contract","constructor","projectName","typeName","options","debug","onAfterRegister","Event","onAfterUnregister","onBeforeRegister","onBeforeUnregister","onLoad","pluralName","singularName","loader","plugins","kebabCase","pluralize","createDebugger","Loader","color","symbol","blueprint","predicates","func","afterShutdown","afterStartup","beforeShutdown","beforeStartup","resolver","require","resolve","notNullable","validate","required","formatModuleName","name","scoped","toLocaleLowerCase","get","container","find","c","isMatchingName","plugin","PluginError","getAll","map","getMany","names","load","source","params","isObject","priority","emit","register","tool","loadMany","settings","loaded","toLoad","Array","isArray","forEach","setting","push","Object","entries","Promise","all","filter","undefined","isRegistered","match","MODULE_NAME_PATTERN","upperFirst","moduleName","triggerStartup","DEFAULT_PRIORITY","sort","a","b","unregister","triggerShutdown","internalModule","publicModule","shutdown","startup"],"mappings":"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"}