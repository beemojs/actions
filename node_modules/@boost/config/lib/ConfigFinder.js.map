{"version":3,"file":"ConfigFinder.js","sources":["../src/ConfigFinder.ts"],"sourcesContent":null,"names":["ConfigFinder","Finder","blueprint","predicates","array","bool","func","shape","string","extendsSetting","extensions","DEFAULT_EXTS","includeEnv","loaders","cjs","loadCjs","notNullable","js","loadJs","json","loadJson","json5","mjs","loadMjs","ts","loadTs","yaml","loadYaml","yml","exact","name","required","camelCase","overridesSetting","resolver","require","resolve","determinePackageScope","dir","currentDir","isDirectory","parent","debug","color","filePath","path","isFileSystemRoot","pkgPath","append","PACKAGE_FILE","cache","getFileCache","exists","content","cacheFileContents","markMissingFile","ConfigError","findFilesInDir","isRoot","isRootDir","baseDir","CONFIG_FOLDER","cacheFilesInDir","paths","ext","options","files","getFileName","push","Promise","all","map","configPath","length","invariant","join","sort","a","b","isBranch","isEnv","createFileName","envSuffix","getEnv","leadingDot","resolveFiles","basePath","foundFiles","configs","loadConfig","overriddenConfigs","extractOverriddenConfigs","extendedConfigs","extractExtendedConfigs","unshift","extendsPaths","forEach","config","source","key","extendsFrom","toArray","extendsPath","isModuleName","modulePath","Path","moduleName","isFilePath","isAbsolute","overrides","exclude","include","settings","dot","matchBase","excludePatterns","excluded","some","pattern","minimatch","includePatterns","included","passes","pkg","symbol","includes"],"mappings":"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"}