{"version":3,"file":"Project.js","sources":["../src/Project.ts"],"sourcesContent":null,"names":["Project","Memoize","constructor","root","process","cwd","Path","create","createWorkspaceMetadata","jsonPath","metadata","filePath","pkgPath","parent","wsPath","path","packagePath","packageName","name","workspacePath","workspaceName","getPackage","append","exists","CommonError","parseFile","getWorkspaceGlobs","options","lernaPath","pnpmPath","workspacePaths","pkg","workspaces","Array","isArray","push","packages","length","lerna","pnpm","relative","map","workspace","getWorkspacePackages","glob","sync","absolute","onlyDirectories","package","getWorkspacePackagePaths","onlyFiles"],"mappings":"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"}