{"version":3,"file":"index.js","sources":["../src/constants.ts","../src/debug.ts","../src/EventError.ts","../src/BaseEvent.ts","../src/BailEvent.ts","../src/ConcurrentEvent.ts","../src/Event.ts","../src/WaterfallEvent.ts"],"sourcesContent":null,"names":["WILDCARD_SCOPE","EVENT_NAME_PATTERN","debug","createInternalDebugger","errors","LISTENER_INVALID","NAME_INVALID","EventError","createScopedError","BaseEvent","constructor","name","listeners","Map","validateName","__DEV__","clearListeners","scope","getListeners","clear","key","has","set","Set","get","getScopes","keys","listen","listener","add","validateListener","unlisten","once","func","handler","args","delete","type","match","BailEvent","emit","some","ConcurrentEvent","Promise","all","map","Event","forEach","WaterfallEvent","arg","reduce","nextValue"],"mappings":"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"}