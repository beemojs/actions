{"version":3,"file":"RotatingFileTransport.js","sources":["../../src/transports/RotatingFileTransport.ts"],"sourcesContent":null,"names":["DAYS_IN_WEEK","RotatingFileTransport","FileTransport","lastTimestamp","formatTimestamp","Date","now","blueprint","predicates","string","rotation","oneOf","ms","options","date","timestamp","getFullYear","String","getMonth","padStart","firstDay","getDay","offsetDate","getDate","Math","floor","getHours","checkIfNeedsRotation","lastSize","maxSize","closeStreamAndRotateFile","getRotatedFileName","name","path","ext","rotateFile"],"mappings":";;;;;;AAIA,MAAMA,YAAY,GAAG,CAArB;AAOO,MAAMC,qBAAN,SAAoCC,2BAApC,CAAgF;AAAA;AAAA;AAAA,SAC5EC,aAD4E,GACpD,KAAKC,eAAL,CAAqBC,IAAI,CAACC,GAAL,EAArB,CADoD;AAAA;;AAG7EC,EAAAA,SAAS,CAACC,UAAD,EAAkE;AACnF,UAAM;AAAEC,MAAAA;AAAF,QAAaD,UAAnB;AAEA,WAAO,EACN,GAAG,MAAMD,SAAN,CAAgBC,UAAhB,CADG;AAENE,MAAAA,QAAQ,EAAED,MAAM,GAAGE,KAAT,CAAe,CAAC,QAAD,EAAW,OAAX,EAAoB,QAApB,EAA8B,SAA9B,CAAf;AAFJ,KAAP;AAIA;AAED;AACD;AACA;;;AACCP,EAAAA,eAAe,CAACQ,EAAD,EAAqB;AACnC,UAAM;AAAEF,MAAAA;AAAF,QAAe,KAAKG,OAA1B;AACA,UAAMC,IAAI,GAAG,IAAIT,IAAJ,CAASO,EAAT,CAAb;AACA,QAAIG,SAAS,GAAI,GAAED,IAAI,CAACE,WAAL,EAAmB,GAAEC,MAAM,CAACH,IAAI,CAACI,QAAL,KAAkB,CAAnB,CAAN,CAA4BC,QAA5B,CAAqC,CAArC,EAAwC,GAAxC,CAA6C,EAArF;;AAEA,QAAIT,QAAQ,KAAK,SAAjB,EAA4B;AAC3B,aAAOK,SAAP;AACA,KAPkC;AAUnC;;;AACA,QAAIL,QAAQ,KAAK,QAAjB,EAA2B;AAC1B,YAAMU,QAAQ,GAAG,IAAIf,IAAJ,CAASS,IAAI,CAACE,WAAL,EAAT,EAA6BF,IAAI,CAACI,QAAL,EAA7B,EAA8C,CAA9C,EAAiDG,MAAjD,EAAjB;AACA,YAAMC,UAAU,GAAGR,IAAI,CAACS,OAAL,KAAiBH,QAAjB,GAA4B,CAA/C;AAEAL,MAAAA,SAAS,IAAK,KAAIS,IAAI,CAACC,KAAL,CAAWH,UAAU,GAAGtB,YAAxB,IAAwC,CAAE,EAA5D;AAEA,aAAOe,SAAP;AACA;;AAEDA,IAAAA,SAAS,IAAIE,MAAM,CAACH,IAAI,CAACS,OAAL,EAAD,CAAN,CAAuBJ,QAAvB,CAAgC,CAAhC,EAAmC,GAAnC,CAAb;;AAEA,QAAIT,QAAQ,KAAK,OAAjB,EAA0B;AACzB,aAAOK,SAAP;AACA;;AAEDA,IAAAA,SAAS,IAAK,IAAGE,MAAM,CAACH,IAAI,CAACY,QAAL,EAAD,CAAN,CAAwBP,QAAxB,CAAiC,CAAjC,EAAoC,GAApC,CAAyC,EAA1D;AAEA,WAAOJ,SAAP;AACA;AAED;AACD;AACA;;;AACoBY,EAAAA,oBAAoB,GAAG;AACzC,QACC,KAAKC,QAAL,GAAgB,KAAKf,OAAL,CAAagB,OAA7B,IACA,KAAKzB,eAAL,CAAqBC,IAAI,CAACC,GAAL,EAArB,MAAqC,KAAKH,aAF3C,EAGE;AACD,WAAK2B,wBAAL;AACA;AACD;AAED;AACD;AACA;;;AACoBC,EAAAA,kBAAkB,GAAW;AAC/C,UAAMC,IAAI,GAAG,KAAKC,IAAL,CAAUD,IAAV,CAAe,IAAf,CAAb;AACA,UAAME,GAAG,GAAG,KAAKD,IAAL,CAAUC,GAAV,CAAc,IAAd,CAAZ;AAEA,WAAQ,GAAEF,IAAK,IAAG,KAAK7B,aAAc,IAAG+B,GAAI,EAA5C;AACA;AAED;AACD;AACA;;;AACoBC,EAAAA,UAAU,GAAG;AAC/B,UAAMA,UAAN,GAD+B;;AAI/B,SAAKhC,aAAL,GAAqB,KAAKC,eAAL,CAAqBC,IAAI,CAACC,GAAL,EAArB,CAArB;AACA;;AA5EqF;;;;"}