{"version":3,"file":"Package.js","sources":["../src/Package.ts"],"sourcesContent":null,"names":["Package","Memoize","constructor","project","path","contents","artifacts","configs","debug","packageJson","packageJsonPath","root","append","createDebugger","getSlug","addArtifact","artifact","push","startup","build","options","Promise","all","map","start","Date","now","state","error","buildResult","time","addEntryPoints","addEngines","addExports","syncPackageJson","cleanup","getName","name","getFeatureFlags","flags","isWorkspacesEnabled","rootPackage","workspaces","hasDependency","react","tsConfig","tsconfigJson","typescript","decorators","Boolean","experimentalDecorators","strict","flowconfigPath","exists","flow","getSourceFiles","glob","sync","absolute","cwd","onlyFiles","pkg","dependencies","devDependencies","peerDependencies","optionalDependencies","isComplete","every","isRunning","some","setConfigs","forEach","cfg","config","optimal","packemonBlueprint","toArray","platform","bundle","formats","format","isEmpty","length","DEFAULT_FORMATS","native","filter","FORMATS_NATIVE","includes","undefined","node","FORMATS_NODE","browser","namespace","FORMATS_BROWSER","externals","inputs","support","fs","writeJson","spaces","tsconfigJsonPath","ts","loadModule","readConfigFile","readFileSync","host","getCanonicalFileName","fileName","getCurrentDirectory","sys","getNewLine","newLine","Error","formatDiagnostic","result","parseJsonConfigFileContent","errors","formatDiagnostics","art","CodeArtifact","reduce","oldest","SUPPORT_PRIORITY","engines","Object","assign","NODE_SUPPORTED_VERSIONS","npm","NPM_SUPPORTED_VERSIONS","v","join","mainEntry","moduleEntry","browserEntry","files","Set","index","findEntryPoint","sharedLib","bin","isObject","builds","add","getBuildOutput","ext","getSourceFileExts","TypesArtifact","types","main","type","module","sort","exportMap","entries","getPackageExports","basePath","conditions","replace","default","exports","sourceExts","values","inputFile","Path","exts","sourceExt","list"],"mappings":"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"}