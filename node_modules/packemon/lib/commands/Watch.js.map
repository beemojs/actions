{"version":3,"file":"Watch.js","sources":["../../src/commands/Watch.ts"],"sourcesContent":null,"names":["WatchCommand","Config","Arg","Number","Flag","Bind","BaseCommand","packages","packagesToRebuild","Set","rebuilding","rebuildTimer","enqueueRebuild","event","path","log","applyStyle","replace","packemon","root","changedPkg","find","pkg","startsWith","add","triggerRebuilds","run","chokidar","loadModule","debug","loadConfiguredPackages","getBuildOptions","generateArtifacts","watchPaths","map","append","join","watcher","watch","ignored","ignoreInitial","persistent","usePolling","poll","on","clearTimeout","setTimeout","rebuildPackages","debounce","pkgs","pkgNames","getName","length","clear","start","Date","now","Promise","all","build","formatMs","error","Error","message"],"mappings":"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"}